// A responsive grid that can be collapsed at different breakpoints,
// enabling a different layout for small, medium and large screens.
//
// Implement your mobile grid first using the .gN classes, then build
// up the layout for medium and large screens using .mN and .lN classes

@import 'vars';

$m_ems: 30.1em !default;
$l_ems: 48.1em !default;
$max_ems: 62em !default;
$gutter: 1rem !default;


@mixin widths($prefix) {
	.#{$prefix}12 > :first-child { width: 33.333%; }
	.#{$prefix}12 > * { width: 66.666%; }
	.#{$prefix}13 > :first-child { width: 25%; }
	.#{$prefix}13 > * { width: 75%; }
	.#{$prefix}21 > :first-child { width: 66.666%; }
	.#{$prefix}21 > * { width: 33.333%; }
	.#{$prefix}25 > * { width: 25%; }
	.#{$prefix}31 > :first-child { width: 75%; }
	.#{$prefix}31 > * { width: 25%; }
	.#{$prefix}33 > * { width: 33.333%; }
	.#{$prefix}50 > * { width: 50%; }
}

// Lay the ground work
.g {
	display: -webkit-flex;
	-webkit-flex-flow: row wrap;
	display: -ms-flexbox;
	-ms-flex-flow: row wrap;
	list-style-type: none;
	margin-left: auto;
	margin-right: auto;
	max-width: $max_ems;
	padding-left: 0;
	padding-right: 0;
}

.ie .g > * {
    display: inline-block;
    margin: 0 -4px 0 0;
}

.g > * {
	padding: 0 $gutter/2;
	width: 100%;
	// Fallback to inline-block for grid units in IE
	.ie & {
		display: inline-block;
		margin: 0 -4px 0 0;
	}
}

.g > .g { padding: 0; }

.g, .g > * {
	-webkit-box-sizing: border-box;
	-moz-box-sizing: border-box;
	box-sizing: border-box;
}

// Default (applies to all screens)
@media only screen {
	@include widths('g');
}

// Medium screens
@media only screen and (min-width: #{$m_ems}) {
	.g > * { padding: 0 $gutter; }
	@include widths('m');
}

// Large screens
@media only screen and (min-width: #{$l_ems}) {
	@include widths('l');
	.lxx { display: none; }
}

@media only screen and (max-width: #{$s_ems}) {
	.gxx { display: none; }
}

@media only screen and (min-width: #{$m_ems}) and (max-width: #{$l_ems}) {
	.mxx { display: none; }
}
